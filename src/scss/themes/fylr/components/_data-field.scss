// Data Fields

.cui-data-field {
	// todo: be very careful when to apply a max-width, this class is probably too generic
	// - get sets in DataField class, which is extended by Input, Output, Options, Checkbox, Select,
	// FormButton, DataTable, DataForm, SimpleForm, Form, FormPopover
	//
	// find out when the max-width is actually needed
	// this width should probably only be applied to input fields or else???
	// see: demo#DataFrom: cui-data-field class is applied to several outer form containers and this might cause unexpected behaviour
	// see: focus state of dateTime input
	max-width: $data-field-width;
	margin: 0;

	.cui-form-value & {
		max-width: none;
	}

	// todo:
	// reset the max-width set above
	// maybe the above max-width should be restricted to inputs by default instead
	&.cui-form,
	&.cui-data-form {
		max-width: 100%; // or none?
		margin: 0;
	}

	&.cui-maximize-horizontal,
	&.cui-simple-form {
		max-width: 100%;
		flex-grow: 1;
	}

	&.cui-maximize-horizontal {
		&.cui-output {
			.cui-data-field-output-label.cui-label-multiline {
				max-width: 700px;
			}
		}
	}

	.cui-list-view-grid-quadrant-3 {
		min-height: 3*$table-data-height; // for when using empty lists that can get filled
	}

	.cui-lv-row-move-handle-column {
		padding-top: 0;
		padding-bottom: 0;
	}

	&-disabled {
		user-select: none;
		opacity: 0.5;
		pointer-events: none;

		& & {
			opacity: 1;
		}
	}

	&--full-width {
		width: 100%;
		max-width: 100%;

		&.cui-select {
			> .cui-button {
				max-width: none;
			}
		}
	}

	.cui-object-dumper {
		border: 1px solid $table-border-color;

		.cui-list-view-grid-quadrant-3 {
			min-height: auto;
		}
	}

	&--with-button {
		display: flex;
		align-items: flex-end;

		// if focused outline the whole data-field including the right button
		&.cui-has-focus {
			border-radius: $input-border-radius;

			@include input-focus();

			input {
				@include disable-input-focus();
			}

			.cui-data-field-right .cui-button .cui-button-visual {
				border-color: $input-focus-border-color;
			}
		}
	}
}

.cui-data-field-center {
	flex: 1 1 auto;
	display: flex;

	&:focus {
		z-index: 1;
	}

	&:not(:first-child) input {
		border-top-left-radius: 0;
		border-bottom-left-radius: 0;
	}

	&:not(:last-child) input {
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;
	}

	input {
		position: relative;
		width: auto !important;
		flex-grow: 1;
	}
}

.cui-data-field-right {
	position: relative;

	.cui-button {
		@include button-flat();

		margin-left: -1px;
		height: 100%;
		vertical-align: bottom;

		.cui-button-visual {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
			border: 1px solid $input-border-color;
		}

		&:focus {
			z-index: 1;

			.cui-button-visual {
				border-radius: $input-border-radius;
				border-color: $input-focus-border-color;
			}
		}
	}
}
