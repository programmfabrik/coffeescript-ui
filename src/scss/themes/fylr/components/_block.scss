// todo: padding, margins, use-cases ?
.cui-block {	
	flex-shrink: 0;
	padding-bottom: $spacer-sm;
	border-bottom: 1px solid var(--block-color);

	&:not(:last-child) {
		margin-bottom: $block-margin;
	}

	*:not(.cui-block) + & {
		margin-top: $block-margin;
	}

	.cui-block-header,
	.cui-block-description {
		margin-bottom: $block-padding;
	}

	.cui-block-header,
	.cui-block-content,
	.cui-block-description {
		&:empty {
			display: none;
		}
	}

	.cui-block-description {
		color: theme-color('secondary');
	}

	// Titles apply to all block types (default and grid)
	> .cui-block-header .cui-block-title {
		@include h6(0);

		&::before {
			@include icon('\f039', 8px);
			
			position: relative;
			top: -1px;
			color: var(--block-color);
			padding: 1px 1px 0 1px;
			border: 1px solid currentColor;
			margin-right: 0.75em;
		}

		+ * {
			margin-top: $spacer-sm;
		}
	}

	// nested blocks indention
	.cui-block {
		margin-left: $spacer-lg;
	}

	// Level 1
	&.cui-block-level-1 {
		--block-color: #{gray('900')};

		> .cui-block-header .cui-block-title {
			@include h6(0);
		}
	}

	// Level 2
	&.cui-block-level-2 {
		--block-color: #{gray('600')};

		margin-top: $block-margin;

		// todo
		// > .cui-block-header .cui-block-title {
		// 	color: theme-color('secondary');
		// }
	}

	// Level 3
	// todo
	&.cui-block-level-3 {
		--block-color: #{gray('500')};
	}
}

// Content
.cui-block-content {
	.cui-form-table {
		width: 100%;

		&:not(:last-child) {
			margin-bottom: $block-padding;
		}
	}
}

// * WaitBlock

.cui-wait-block {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	z-index: 1;
	display: flex;
	color: theme-color('muted');
}

.cui-wait-block-glass {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	opacity: 0.5;
	background: $body-bg;
}

.cui-wait-block-inner {
	display: flex;
	flex: 1 1 auto;
	position: relative;
}

.cui-wait-block-header {
	display: flex;
	flex: 1 1 auto;
	justify-content: center;
	align-self: center;

	.cui-label {
		.svg-spinner {
			height: auto;
			width: 28px;
		}

		.cui-label-content {
			padding-left: $spacer-sm;
		}
	}
}

.cui-wait-block-content {
	display: none;
}
